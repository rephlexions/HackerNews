(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{43:function(n,e,t){n.exports=t(77)},77:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(30),i=t.n(o),c=t(12),u=t(4),l=t(9),s=t(5),d=function(n){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:n,payload:e}}},f=function(n,e){var t=function(n){return{request:d("".concat(n,"_REQUEST")),success:d("".concat(n,"_SUCCESS")),failure:d("".concat(n,"_FAILURE"))}}(n);return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(r){return e({request:t,payload:n,dispatch:r})}}},h="@hackerNewsReader/app",p={SET_THEME:"".concat(h,"/SET_THEME"),SET_LAYOUT:"".concat(h,"/SET_LAYOUT")},m={setTheme:d(p.SET_THEME),setLayout:d(p.SET_LAYOUT)},g="grid",y="list",b="dark",v="light",E=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{theme:b,layout:y},e=arguments.length>1?arguments[1]:void 0,t=e.type,r=e.payload;switch(console.log("payload: ",r),t){case p.SET_THEME:case p.SET_LAYOUT:return Object(l.a)({},n,r);default:return n}},w=t(22),x=t(6),S=t(7),O=t(32),j=t.n(O),k=Object({NODE_ENV:"production",PUBLIC_URL:"/HackerNews"}).URL||"http://localhost:3000/",T=2e4,_={"Content-Type":"application/json",Accept:"application/json"},C=new(function(){function n(e){var t=e.baseURL,r=void 0===t?k:t,a=e.timeout,o=void 0===a?T:a,i=e.headers,c=void 0===i?_:i,u=e.auth;Object(x.a)(this,n);var l=j.a.create({baseURL:r,timeout:o,headers:c,auth:u});l.interceptors.response.use(this.handleSuccess,this.handleError),this.client=l}return Object(S.a)(n,[{key:"handleSuccess",value:function(n){return n}},{key:"handleError",value:function(n){return Promise.reject(n)}},{key:"get",value:function(n){return this.client.get(n).then(function(n){return n.data})}},{key:"post",value:function(n,e){return this.client.post(n,e).then(function(n){return n.data})}},{key:"put",value:function(n,e){return this.client.put(n,e).then(function(n){return n.data})}},{key:"patch",value:function(n,e){return this.client.patch(n,e).then(function(n){return n.data})}},{key:"delete",value:function(n){return this.client.delete(n).then(function(n){return n.data})}}]),n}())({baseURL:"https://hacker-news.firebaseio.com/v0"}),I={};I.getTopStoryIds=function(){return C.get("/topstories".concat(".json?print=pretty"))},I.getStory=function(n){return C.get("/item/".concat(n).concat(".json?print=pretty"))},I.getStoriesByPage=function(n,e){var t=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{begin:e*n,end:(e+1)*n}}(20,e),r=function(n){var e=n.begin,t=n.end;return n.items.slice(e,t)}({begin:t.begin,end:t.end,items:n}).map(function(n){return I.getStory(n)});return Promise.all(r)};var R=I,F={FETCH_STORY_IDS:"".concat("@hackerNewsReader/story","/FETCH_STORY_IDS"),FETCH_STORIES:"".concat("@hackerNewsReader/story","/FETCH_STORIES")},H={fetchStoryIds:f(F.FETCH_STORY_IDS,function(n){var e=n.request,t=n.payload,r=n.dispatch;return r(e.request(t)),R.getTopStoryIds().then(function(n){return r(e.success({storyIds:n})),r(H.fetchStories({storyIds:n,page:0})),n}).catch(function(n){return r(e.failure(n))})}),fetchStories:f(F.FETCH_STORIES,function(n){var e=n.request,t=n.payload,r=n.dispatch,a=t.storyIds,o=t.page;return r(e.request(t)),R.getStoriesByPage(a,o).then(function(n){return r(e.success({stories:n}))}).catch(function(n){return r(e.failure(n))})})},U=H,L=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{storyIds:[],stories:[],page:0,isFetching:!1,error:""},e=arguments.length>1?arguments[1]:void 0,t=e.type,r=e.payload;switch(t){case"".concat(F.FETCH_STORY_IDS,"_REQUEST"):case"".concat(F.FETCH_STORIES,"_REQUEST"):return Object(l.a)({},n,{isFetching:!0});case"".concat(F.FETCH_STORY_IDS,"_SUCCESS"):return Object(l.a)({},n,r);case"".concat(F.FETCH_STORIES,"_SUCCESS"):return Object(l.a)({},n,{stories:[].concat(Object(w.a)(n.stories),Object(w.a)(r.stories)),page:n.page+1,isFetching:!1});default:return n}},N=Object(u.c)({story:L,app:E}),A=t(33),B=(t(34),[]);B.push(A.a);var Y=Object(u.d)(u.a.apply(void 0,B)),z=function(n){return Object(u.e)(N,n,Y)},D=t(35),M=Object(D.a)(function(n){return n.story.storyIds},function(n){return n.story.stories},function(n,e){return n.length>e.length}),P=t(13),q=t(11),K=t(14),W=t(1),J=t(36),Q=t.n(J),V=t(2),G="@media only screen and  (max-width: 768px)";function X(){var n=Object(V.a)(["\n  display: flex;\n"]);return X=function(){return n},n}function $(){var n=Object(V.a)(["\n  height: ","px;\n"]);return $=function(){return n},n}function Z(){var n=Object(V.a)(["\n  height: 20px;\n  border-radius: 2px;\n  margin-right: 8px;\n"]);return Z=function(){return n},n}function nn(){var n=Object(V.a)(["\n  margin-left: 12px;\n  font-size: 18px;\n  cursor: pointer;\n"]);return nn=function(){return n},n}function en(){var n=Object(V.a)(["\n  display: flex;\n  align-items: center;\n"]);return en=function(){return n},n}function tn(){var n=Object(V.a)(["\n  height: 100%;\n  width: 100%;\n  max-width: 85%;\n  margin-left: auto;\n  margin-right: auto;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  "," {\n    max-width: 96%;\n  }\n"]);return tn=function(){return n},n}function rn(){var n=Object(V.a)(["\n  background-color: ",";\n  height: ","px;\n  color: ",";\n  width: 100%;\n  box-shadow: 0 1px 0 0 black;\n  position: fixed;\n  top: 0;\n"]);return rn=function(){return n},n}var an=W.c.header(rn(),function(n){return n.theme.backgroundSecondary},48,function(n){return n.theme.text}),on=W.c.div(tn(),G),cn=W.c.div(en()),un=W.c.div(nn()),ln=W.c.img(Z()),sn=W.c.div($(),48),dn=W.c.a(X()),fn=function(n){var e=n.layout,t=n.theme,r=n.setLayout,o=n.setTheme;return a.a.createElement("div",null,a.a.createElement(an,null,a.a.createElement(on,null,a.a.createElement(cn,null,a.a.createElement(dn,{href:"/",target:""},a.a.createElement(ln,{src:"./HN_logo.png"})," Hacker News Reader")),a.a.createElement(cn,null,e===y?a.a.createElement(un,{onClick:function(){return r(g)}},a.a.createElement("i",{className:"fas fa-th-large"})):a.a.createElement(un,{onClick:function(){return r(y)}},a.a.createElement("i",{className:"fas fa-th-list"})),t===v?a.a.createElement(un,{onClick:function(){return o(b)}},a.a.createElement("i",{className:"fas fa-moon"})):a.a.createElement(un,{onClick:function(){return o(v)}},a.a.createElement("i",{className:"fas fa-sun"}))))),a.a.createElement(sn,null))},hn=Object(c.b)(function(n){return{layout:n.app.layout,theme:n.app.theme}},function(n){return{setTheme:function(e){return n(m.setTheme({theme:e}))},setLayout:function(e){return n(m.setLayout({layout:e}))}}})(fn),pn=t(39),mn=t.n(pn),gn=t(40),yn=t.n(gn),bn=function(n){var e="";return n&&(n.includes("//")||(n="http://".concat(n)),e=yn.a.parse(n).hostname),e.includes("www.")&&(e=e.split("www.")[1]),e},vn="https://news.ycombinator.com",En="".concat(vn,"/item?id="),wn="".concat(vn,"/user?id="),xn=function(n){var e=n.url,t=n.id,r="".concat(En).concat(t);return e||r};function Sn(){var n=Object(V.a)(["\n  color: ",";\n\n  &:visited {\n    color: ",";\n  }\n"]);return Sn=function(){return n},n}function On(){var n=Object(V.a)(["\n  font-size: 14px;\n  color: ",";\n"]);return On=function(){return n},n}function jn(){var n=Object(V.a)(["\n  color: ",";\n  display: flex;\n  width: 100%;\n  height: 100%;\n  flex-direction: row;\n  align-items: center;\n  text-decoration: none;\n"]);return jn=function(){return n},n}function kn(){var n=Object(V.a)(["\n  color: ",";\n  font-size: 12px;\n"]);return kn=function(){return n},n}function Tn(){var n=Object(V.a)(["\n  color: ",";\n  margin-top: 0;\n  margin-bottom: 6px;\n  font-weight: 400;\n  font-size: 16px;\n  letter-spacing: 0.4px;\n"]);return Tn=function(){return n},n}function _n(){var n=Object(V.a)(["\n  border-bottom: 1px solid ",";\n  padding: 14px 24px;\n\n  &:last-child {\n    border-bottom: none;\n  }\n"]);return _n=function(){return n},n}var Cn=W.c.li(_n(),function(n){return n.theme.border}),In=W.c.h3(Tn(),function(n){return n.theme.text}),Rn=W.c.span(kn(),function(n){return n.theme.textSecondary}),Fn=W.c.a(jn(),function(n){return n.theme.text}),Hn=W.c.div(On(),function(n){return n.theme.textSecondary}),Un=W.c.a(Sn(),function(n){return n.theme.textSecondary},function(n){return n.theme.textSecondary}),Ln=function(n){var e=n.by,t=n.kids,r=void 0===t?[]:t,o=n.score,i=n.url,c=n.title,u=n.id,l=(n.type,n.time),s=bn(i)||"news.ycombinator.com",d=xn({url:i,id:u}),f="".concat(En).concat(u);return a.a.createElement(Cn,null,a.a.createElement(Fn,{href:d,rel:"nofollow noreferrer noopener",target:"_blank"},a.a.createElement(In,null,c," ",a.a.createElement(Rn,null,"(",s,")"))),a.a.createElement(Hn,null,o," points by"," ",a.a.createElement(Un,{href:"".concat(wn).concat(e),rel:"nofollow noreferrer noopener",target:"_blank"},e)," ",a.a.createElement(mn.a,{date:new Date(1e3*l).toISOString()})," | ",a.a.createElement(Un,{href:f,rel:"nofollow noreferrer noopener",target:"_blank"},r.length," Comments")))};function Nn(){var n=Object(V.a)(["\n  background-color: ",";\n  border-radius: 4px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 20px;\n  margin-top: 50px;\n  display: flex;\n  flex-direction: column;\n"]);return Nn=function(){return n},n}var An=W.c.ul(Nn(),function(n){return n.theme.backgroundSecondary}),Bn=function(n){function e(){return Object(x.a)(this,e),Object(P.a)(this,Object(q.a)(e).apply(this,arguments))}return Object(K.a)(e,n),Object(S.a)(e,[{key:"render",value:function(){var n=this.props.stories;return a.a.createElement(An,null,n.map(function(n){return a.a.createElement(Ln,Object.assign({key:n.id},n))}))}}]),e}(r.Component);function Yn(){var n=Object(V.a)(["\n  color: ",";\n  border-top: 1px solid ",";\n  padding: 16px;\n"]);return Yn=function(){return n},n}function zn(){var n=Object(V.a)(["\n  color: ",";\n  margin: 0;\n  padding: 16px;\n  padding-bottom: 70px;\n  font-size: 16px;\n  font-weight: 400;\n  flex-grow: 1;\n"]);return zn=function(){return n},n}function Dn(){var n=Object(V.a)(["\n  background-color: ",";\n  border-bottom-left-radius: ","px;\n  border-bottom-right-radius: ","px;\n  word-break: break-word;\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n"]);return Dn=function(){return n},n}function Mn(){var n=Object(V.a)(["\n  display: block;\n  height: 240px;\n  max-width: 100%;\n  border-top-left-radius: ","px;\n  border-top-right-radius: ","px;\n  object-fit: cover;\n"]);return Mn=function(){return n},n}function Pn(){var n=Object(V.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Pn=function(){return n},n}function qn(){var n=Object(V.a)(["\n  flex-direction: column;\n  display: flex;\n  height: 100%;\n"]);return qn=function(){return n},n}function Kn(){var n=Object(V.a)(["\n  height: 100%;\n"]);return Kn=function(){return n},n}var Wn=W.c.li(Kn()),Jn=W.c.div(qn()),Qn=(W.c.a(Pn()),W.c.img(Mn(),4,4)),Vn=W.c.div(Dn(),function(n){return n.theme.backgroundSecondary},4,4),Gn=W.c.h3(zn(),function(n){return n.theme.text}),Xn=W.c.div(Yn(),function(n){return n.theme.textSecondary},function(n){return n.theme.border}),$n=function(n){var e=n.url,t=n.title,r=n.id,o=bn(e)||"news.ycombinator.com",i=xn({url:e,id:r});return a.a.createElement("a",{href:i,target:"_blank",rel:"nofollow noreferrer nofollow"},a.a.createElement(Wn,null,a.a.createElement(Jn,null,a.a.createElement(Qn,{src:"https://miro.medium.com/max/1176/1*F9RzuXseG1VrTjFJd403gw.png"}),a.a.createElement(Vn,null,a.a.createElement(Gn,null,t),a.a.createElement(Xn,null,a.a.createElement("div",null,"// ".concat(o)))))))};function Zn(){var n=Object(V.a)(["\n  display: flex;\n  margin-bottom: 20px;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 32px;\n\n  "," {\n    grid-template-columns: repeat(4, 1fr);\n  }\n\n  "," {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  "," {\n    grid-template-columns: 1fr;\n  }\n"]);return Zn=function(){return n},n}var ne=W.c.ul(Zn(),"@media only screen and  (min-width: 1400px)",G,"@media only screen and  (max-width: 480px)"),ee=function(n){function e(){return Object(x.a)(this,e),Object(P.a)(this,Object(q.a)(e).apply(this,arguments))}return Object(K.a)(e,n),Object(S.a)(e,[{key:"render",value:function(){return a.a.createElement(ne,null,this.props.stories.map(function(n){return a.a.createElement($n,Object.assign({key:n.id},n))}))}}]),e}(r.Component);function te(){var n=Object(V.a)(["\n  text-align: center;\n\n  span {\n    color: ",";\n    display: inline-block;\n    margin-left: 4px;\n    margin-right: 4px;\n    font-size: 80px;\n    line-height: 0.1;\n\n    /**\n    * Use the blink animation, which is defined above\n    */\n    animation-name: ",";\n    /**\n    * The total time of animation\n    */\n    animation-duration: 1s;\n    /**\n    * It will repeat itself forever\n    */\n    animation-iteration-count: infinite;\n    /**\n    * This makes sure that the starting style (opacity: .2)\n    * of the animation is applied before the animation starts.\n    * Otherwise we would see a short flash or would have\n    * to set the default styling of the dots to the same\n    * as the animation. Same applies for the ending styles.\n    */\n    animation-fill-mode: both;\n  }\n\n  span:nth-child(2) {\n    animation-delay: 0.2s;\n  }\n  span:nth-child(3) {\n    animation-delay: 0.4s;\n  }\n"]);return te=function(){return n},n}function re(){var n=Object(V.a)(["\n  /**\n  * At the start of the animation the dot\n  * has an opacity of .2\n  */\n  0% {\n    opacity: .2;\n  }\n  /**\n  * At 20% the dot is fully visible and\n  * then fades out slowly\n  */\n  20% {\n    opacity: 1;\n  }\n  /**\n  * Until it reaches an opacity of .2 and\n  * the animation can start again\n  */\n  100% {\n    opacity: .2;\n  }\n"]);return re=function(){return n},n}var ae=Object(W.d)(re()),oe=W.c.div(te(),function(n){return n.theme.textSecondary},ae),ie=function(){return a.a.createElement(oe,null,a.a.createElement("span",null,"."),a.a.createElement("span",null,"."),a.a.createElement("span",null,"."))},ce={background:"#272727",backgroundSecondary:"#393C3E",text:"#bfbebe",textSecondary:"#848886",border:"#272727"},ue={background:"#EAEAEA",backgroundSecondary:"#F8F8F8",text:"#848886",textSecondary:"#aaaaaa",border:"#EAEAEA"};function le(){var n=Object(V.a)(["\n  display: flex;\n"]);return le=function(){return n},n}function se(){var n=Object(V.a)(["\n  color: ",";\n  font-size: 20px;\n  font-weight: 300;\n"]);return se=function(){return n},n}function de(){var n=Object(V.a)(["\n  width: 85%;\n  margin-left: auto;\n  margin-right: auto;\n  height: 100%;\n  overflow: hidden;\n  padding-bottom: 200px;\n\n  "," {\n    width: 96%;\n  }\n"]);return de=function(){return n},n}var fe=W.c.div(de(),G),he=(W.c.h1(se(),function(n){return n.theme.textSecondary}),W.c.div(le()),function(n){function e(){var n,t;Object(x.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(P.a)(this,(n=Object(q.a)(e)).call.apply(n,[this].concat(a)))).fetchStories=function(){var n=t.props,e=n.storyIds,r=n.page,a=n.fetchStories;n.isFetching||a({storyIds:e,page:r})},t}return Object(K.a)(e,n),Object(S.a)(e,[{key:"componentDidMount",value:function(){this.props.fetchStoriesFirstPage(),this.setBodyBackgroundColor()}},{key:"componentDidUpdate",value:function(n){n.theme!==this.props.theme&&this.setBodyBackgroundColor()}},{key:"setBodyBackgroundColor",value:function(){this.props.theme===v?document.body.style="background-color: ".concat(ue.background,";"):document.body.style="background-color: ".concat(ce.background,";")}},{key:"render",value:function(){var n=this.props,e=n.stories,t=n.layout,r=n.theme,o=n.hasMoreStores;return a.a.createElement(W.a,{theme:r===v?ue:ce},a.a.createElement("div",null,a.a.createElement(hn,null),a.a.createElement(fe,null,a.a.createElement(Q.a,{dataLength:e.length,next:this.fetchStories,hasMore:o,loader:a.a.createElement(ie,null),style:{height:"100%",overflow:"visible"}},t===y?a.a.createElement(Bn,{stories:e}):a.a.createElement(ee,{stories:e})))))}}]),e}(r.Component));he.defaultProps={stories:[]};var pe=he,me=Object(c.b)(function(n){return{layout:n.app.layout,theme:n.app.theme,stories:n.story.stories,page:n.story.page,storyIds:n.story.storyIds,isFetching:n.story.isFetching,hasMoreStores:M(n)}},function(n){return{fetchStories:function(e){var t=e.storyIds,r=e.page;return n(U.fetchStories({storyIds:t,page:r}))},fetchStoriesFirstPage:function(){return n(U.fetchStoryIds())}}})(pe);function ge(){var n=Object(V.a)(["\n    * {\n      box-sizing: border-box;\n    }\n\n    html, body {\n      font-family: Lato,Helvetica-Neue,Helvetica,Arial,sans-serif;\n      width: 100vw;\n      overflow-x: hidden;\n      margin: 0;\n      padding: 0;\n    }\n\n    ul {\n      list-style: none;\n      padding: 0;\n    }\n\n    a {\n      text-decoration: none;\n\n      &:visited {\n        color: inherit;\n      }\n    }\n  "]);return ge=function(){return n},n}var ye,be=Object(W.b)(ge()),ve="".concat("@@hackerNewsReader/storage","/theme"),Ee="".concat("@@hackerNewsReader/storage","/layout");ye={},Object(s.a)(ye,p.SET_THEME,[function(n){var e=n.action;return(0,n.saveState)({state:e.payload.theme,storageKey:ve})}]),Object(s.a)(ye,p.SET_LAYOUT,[function(n){var e=n.action;return(0,n.saveState)({state:e.payload.layout,storageKey:Ee})}]);var we=function(n){var e=n.storageKey;try{var t=localStorage.getItem(e);if(null===t)return;return JSON.parse(t)}catch(r){return}},xe=function(){var n={},e=we({storageKey:Ee}),t=we({storageKey:ve});return(e||t)&&(n.app={},n.app.layout=e,n.app.theme=t),n},Se=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Oe(n){navigator.serviceWorker.register(n).then(function(n){n.onupdatefound=function(){var e=n.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(n){console.error("Error during service worker registration:",n)})}!function(){var n=xe(),e=z(n);i.a.render(a.a.createElement(c.a,{store:e},a.a.createElement("div",null,a.a.createElement(be,null),a.a.createElement(me,null))),document.getElementById("root"))}(),function(){if("serviceWorker"in navigator){if(new URL("/HackerNews",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/HackerNews","/service-worker.js");Se?(function(n){fetch(n).then(function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(n){n.unregister().then(function(){window.location.reload()})}):Oe(n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Oe(n)})}}()}},[[43,2,1]]]);
//# sourceMappingURL=main.ae4d56d2.chunk.js.map